<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Blunderfish</title>
    <link rel="stylesheet" href="/src/styles.css" />
  </head>
  <body>
    <main class="app">
      <header class="topbar">
        <h1>Blunderfish</h1>
        <div class="controls">
          <button id="new-game-btn" type="button">New Game</button>
          <button id="flip-board-btn" type="button">Flip Board</button>
        </div>
      </header>
      <p class="subtitle">
        Blunderfish is max difficulty stockfish, but has a random chance of of playing a random move
      </p>

      <section class="status-wrap">
        <p id="status-text" aria-live="polite"></p>
      </section>

      <section class="play-area">
        <div class="board-wrap">
          <div id="board" class="board" aria-label="Chess board"></div>
        </div>
        <aside class="right-column" aria-label="Controls and move list">
          <section class="captures-panel" aria-label="Captures">
            <h2>Captures</h2>
            <div class="capture-row">
              <span class="capture-label">Opponent</span>
              <div id="opponent-captures" class="capture-icons"></div>
              <span id="opponent-capture-score" class="capture-score">+0</span>
            </div>
            <div class="capture-row">
              <span class="capture-label">You</span>
              <div id="your-captures" class="capture-icons"></div>
              <span id="your-capture-score" class="capture-score">+0</span>
            </div>
          </section>

          <section class="settings-panel" aria-label="Settings">
            <h2>Settings</h2>
            <label class="setting-label" for="blunder-slider">
              Blunder Chance
            </label>
            <div class="setting-row">
              <input
                id="blunder-slider"
                class="dilution-slider"
                type="range"
                min="0"
                max="100"
                step="1"
                value="20"
              />
              <input
                id="blunder-input"
                class="dilution-input"
                type="number"
                min="0"
                max="100"
                step="1"
                value="20"
                inputmode="numeric"
                aria-label="Blunder chance percentage"
              />
              <span class="percent-symbol">%</span>
            </div>
            <label class="setting-checkbox">
              <input id="reveal-blunders" type="checkbox" checked />
              <span>Reveal Blunders</span>
            </label>
          </section>

          <section class="moves-panel" aria-label="Move list">
            <h2>Moves</h2>
            <div class="moves-table-wrap">
              <table class="moves-table">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>White</th>
                    <th>Black</th>
                  </tr>
                </thead>
                <tbody id="moves-body"></tbody>
              </table>
            </div>
          </section>
        </aside>
      </section>
      
      <footer class="footer">
        <a href="./CREDITS.md" target="_blank" rel="noreferrer">Asset and engine credits</a>
      </footer>
    </main>

    <dialog id="promotion-dialog" class="promotion-dialog">
      <form method="dialog">
        <h2>Choose promotion</h2>
        <div id="promotion-options" class="promotion-options"></div>
      </form>
    </dialog>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
